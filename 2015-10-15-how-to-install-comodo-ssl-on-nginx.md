---
layout: post
title: How to Install Comodo SSL on Nginx
date: 2015-10-15 00:31
author: administrator
comments: true
categories: [Linux]
---
I use cheapssl and cyberssl for cheap SSL certs.

you will need CSR to generate the certificate file for your domain. CyberSSL does it for you but if you are with other registrar they may ask you to provide the CSR. To generate the CSR, you can use the handy tool to generate the command for you .

<a href="https://www.digicert.com/easy-csr/openssl.htm" target="_blank">OpenSSL Generation</a>

You can then paste the command generated by the tool in your terminal to generate the key and csr file.

This gives you two files:
<ul>
	<li><code>example_com.key</code> -- your Private key. You'll need this later to configure ngxinx.</li>
	<li><code>example_com.csr</code> -- Your CSR file.</li>
</ul>
Once you provide the CSR and activate SSL,you should soon get an email with your <em>PositiveSSL Certificate</em>. It contains a zip file with the following:
<ul>
	<li>Root CA Certificate - AddTrustExternalCARoot.crt</li>
	<li>Intermediate CA Certificate - COMODORSAAddTrustCA.crt</li>
	<li>Intermediate CA Certificate - COMODORSADomainValidationSecureServerCA.crt</li>
	<li>Your PositiveSSL Certificate - www_example_com.crt (or the subdomain you gave them)</li>
</ul>
<ol>
	<li>Combine the above crt files into a bundle (the order matters, here):
<pre>cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt  COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt &gt; ssl-bundle.crt
</pre>
</li>
	<li>Store the bundle wherever nginx expects to find it:
<pre>mkdir -p /etc/nginx/ssl/example_com/
mv ssl-bundle.crt /etc/nginx/ssl/example_com/
</pre>
</li>
	<li>Ensure your private key is somewhere nginx can read it, as well.:
<pre>mv example_com.key /etc/nginx/ssl/example_com/
</pre>
</li>
	<li>Make sure your nginx config points to the right cert file and to the private key you generated earlier:
<pre class="">server {
    listen 443;

    ssl on;
    ssl_certificate /etc/nginx/ssl/example_com/ssl-bundle.crt;
    ssl_certificate_key /etc/nginx/ssl/example_com/example_com.key;

    server_name www.exmaple.com example.com

}
</pre>
</li>
</ol>
<ol start="6">
	<li>Restart nginx.</li>
</ol>
